# Review â€” Issue 39 (2026-01-22)

Issue: https://github.com/dave0875/HealthDelta/issues/39

Reviewer model
- `ollama/llama3.1:8b` (invoked locally on GORF)

Change summary
- Reporting now uses a derived source bucket:
  - `ios` when `source_file` matches `ndjson/%`
  - otherwise original `source`
- Added synthetic test verifying `coverage_by_source.csv` includes `source=ios` for iOS-derived observations.

Findings
- Acceptance criteria: Met (reports include iOS source rows where present; synthetic tests added; CI required before closing).
- Determinism: SQL ordering is explicit (`GROUP BY 1` / `ORDER BY 1`, `GROUP BY 1,2` / `ORDER BY 1,2`); report outputs preserve deterministic sorting.
- Privacy: Derived label does not expose PII; relies only on `source_file` prefix.

Risks / edge cases
- The `ndjson/%` heuristic assumes the iOS loader continues to set `source_file` to `ndjson/...`. If loader behavior changes, update the report heuristic and tests together.

